import{_ as l,c as t,b as a,f as s,d as i,a as r,o,r as d}from"./app-ueXqdtbG.js";const p={},c={href:"https://github.com/ystyle/jvms",target:"_blank",rel:"noopener noreferrer"};function h(u,e){const n=d("ExternalLinkIcon");return o(),t("div",null,[e[2]||(e[2]=a("p",null,"像 Maven 或 Gradle 这样的构建工具可能要求特定版本的 JDK。例如，Maven 在一些情况下可能需要 JDK 8，而 Gradle 可能要求更高版本的 JDK。",-1)),e[3]||(e[3]=a("h2",{id:"_1-使用-jvms",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#_1-使用-jvms"},[a("span",null,"1. 使用 JVMS")])],-1)),a("p",null,[e[1]||(e[1]=s("🔗 ")),a("a",c,[e[0]||(e[0]=s("JDK Version Manager (JVMS) for Windows（Windows JDK 版本管理器 ）")),i(n)])]),e[4]||(e[4]=r(`<p>类似于 NVM 。</p><h3 id="使用方法-usage" tabindex="-1"><a class="header-anchor" href="#使用方法-usage"><span>使用方法 Usage</span></a></h3><h2 id="_2-gui" tabindex="-1"><a class="header-anchor" href="#_2-gui"><span>2. GUI</span></a></h2><p>文件路径示例：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">└─ D:<span class="token punctuation">\\</span>Program Files<span class="token punctuation">\\</span>Java</span>
<span class="line">   ├─ jdk-1.8</span>
<span class="line">   └─ jdk-17</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 <strong>jdk1.8</strong>，把 <code>JAVA_HOME</code> 改为 <code>%JAVA_HOME_8%</code> 。使用 <strong>jdk17</strong> ，把 <code>JAVA_HOME</code> 改为 <code>%JAVA_HOME_17%</code> 即可。</p><p>在搜索栏（Win + S）中搜索 <strong>编辑系统环境变量</strong>。</p><h3 id="配置-java-home" tabindex="-1"><a class="header-anchor" href="#配置-java-home"><span>配置 JAVA_HOME</span></a></h3><p>默认指向 JDK 17。</p><table><thead><tr><th>变量名</th><th>变量值</th></tr></thead><tbody><tr><td>JAVA_HOME_8</td><td>D:\\Program Files\\Java\\jdk-1.8</td></tr><tr><td>JAVA_HOME_17</td><td>D:\\Program Files\\Java\\jdk-17</td></tr><tr><td>JAVA_HOME</td><td>%JAVA_HOME_17%</td></tr></tbody></table><h3 id="配置-path" tabindex="-1"><a class="header-anchor" href="#配置-path"><span>配置 Path</span></a></h3><p>追加 <code>%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;</code> 。</p><ul><li>%JAVA_HOME%\\bin</li><li>%JAVA_HOME%\\jre\\bin</li></ul><h3 id="配置-classpath" tabindex="-1"><a class="header-anchor" href="#配置-classpath"><span>配置 CLASSPATH</span></a></h3><p>以分号 <code>;</code> 分隔路径，包含 <code>.</code>（当前目录）：<code>.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar;</code></p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token operator">%</span>JAVA_HOME%\\lib\\dt<span class="token punctuation">.</span>jar<span class="token punctuation">;</span><span class="token operator">%</span>JAVA_HOME%\\lib\\tools<span class="token punctuation">.</span>jar<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>最后运行 <code>java -version</code> 。</p><h2 id="_3-命令行" tabindex="-1"><a class="header-anchor" href="#_3-命令行"><span>3. 命令行</span></a></h2><h3 id="setx-命令介绍" tabindex="-1"><a class="header-anchor" href="#setx-命令介绍"><span>setx 命令介绍</span></a></h3><p>setx 是 Windows 下的一个命令行工具，用于设置用户级或系统级环境变量。它与 set 命令不同，setx 创建的环境变量是永久性的，即使重新启动计算机也会保留。</p><p>setx 的变量值长度限制为 1024 个字符。如果 Path 太长，可能需要通过 GUI 手动编辑。</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">setx <span class="token punctuation">[</span>变量名<span class="token punctuation">]</span> <span class="token punctuation">[</span>变量值<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">/</span>M<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>变量名</strong>：你想设置的环境变量的名称。</li><li><strong>变量值</strong>：环境变量的值（例如路径或配置字符串）。</li><li><strong>/M</strong>：将环境变量设置为系统级变量。如果省略此选项，则仅设置为当前用户的变量。</li></ul><h4 id="查看环境变量值" tabindex="-1"><a class="header-anchor" href="#查看环境变量值"><span>查看环境变量值</span></a></h4><p>setx 不支持直接查看环境变量值，可以使用以下命令查看：<strong>echo %变量名%</strong>，例如：<code>echo %JAVA_HOME%</code> 。</p><h3 id="设置-java-home" tabindex="-1"><a class="header-anchor" href="#设置-java-home"><span>设置 JAVA_HOME</span></a></h3><h4 id="java-home-8" tabindex="-1"><a class="header-anchor" href="#java-home-8"><span>JAVA_HOME_8</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">setx JAVA_HOME_8 <span class="token string">&quot;D:\\Program Files\\Java\\jdk-1.8&quot;</span> <span class="token operator">/</span>M</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="java-home-17" tabindex="-1"><a class="header-anchor" href="#java-home-17"><span>JAVA_HOME_17</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">setx JAVA_HOME_17 <span class="token string">&quot;D:\\Program Files\\Java\\jdk-17&quot;</span> <span class="token operator">/</span>M</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="java-home" tabindex="-1"><a class="header-anchor" href="#java-home"><span>JAVA_HOME</span></a></h4><p>默认指向 JDK 17。</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">setx JAVA_HOME <span class="token string">&quot;%JAVA_HOME_17%&quot;</span> <span class="token operator">/</span>M</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line"><span class="token function">echo</span> <span class="token operator">%</span>JAVA_HOME%</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="更新-path" tabindex="-1"><a class="header-anchor" href="#更新-path"><span>更新 Path</span></a></h3><h4 id="获取当前-path-值" tabindex="-1"><a class="header-anchor" href="#获取当前-path-值"><span>获取当前 Path 值</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line"><span class="token function">echo</span> <span class="token operator">%</span>Path%</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在更新 Path 之前，先获取当前的 Path 值，将输出的内容复制并保存，作为备份。</p><h4 id="追加路径" tabindex="-1"><a class="header-anchor" href="#追加路径"><span>追加路径</span></a></h4><p>使用 %Path% 引用现有值，并将新路径 <code>%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;</code> 追加到末尾：</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">setx Path <span class="token string">&quot;%Path%;%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;&quot;</span> <span class="token operator">/</span>M</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重新打开一个命令提示符窗口，运行 <code>echo %Path%</code> 命令验证更新是否成功。</p><h3 id="设置-classpath" tabindex="-1"><a class="header-anchor" href="#设置-classpath"><span>设置 CLASSPATH</span></a></h3><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">setx CLASSPATH <span class="token string">&quot;.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar&quot;</span> <span class="token operator">/</span>M</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line"><span class="token function">echo</span> <span class="token operator">%</span>CLASSPATH%</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-问题排查" tabindex="-1"><a class="header-anchor" href="#_4-问题排查"><span>4. 问题排查</span></a></h2><p>如切换未生效，尝试以下操作：</p><ol><li><p>删除 <strong>C:\\Windows\\System32</strong> 目录下的 <code>java.exe</code>、<code>javax.exe</code> 或 <code>javac.exe</code> 。</p></li><li><p>删除 <strong>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</strong> 和 <strong>C:\\ProgramData\\Oracle\\Java\\javapath</strong> 。</p><ul><li>搜索 <code>javapath</code> 删除相关文件夹。</li><li>删除带 <code>javapath</code> 的 Path 环境变量。</li></ul></li><li><p>从注册表中（windows +R 输入 regedit）删除在 <strong>HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft</strong> 下的：</p><ul><li><code>Java Development Kit</code> 的 <code>CurrentVersion</code> 项的值，</li><li>和 <code>Java Runtime Environment</code> 的 <code>CurrentVersion</code> 项的值。</li></ul></li></ol>`,48))])}const m=l(p,[["render",h],["__file","jdk-multi-version.html.vue"]]),g=JSON.parse('{"path":"/blogs/tools/jdk/jdk-multi-version.html","title":"Windows 环境下多版本 JDK 配置指南","lang":"en-US","frontmatter":{"title":"Windows 环境下多版本 JDK 配置指南","date":"2025-01-13T00:00:00.000Z","categories":["Tools"],"tags":["JDK"]},"headers":[{"level":2,"title":"1. 使用 JVMS","slug":"_1-使用-jvms","link":"#_1-使用-jvms","children":[{"level":3,"title":"使用方法 Usage","slug":"使用方法-usage","link":"#使用方法-usage","children":[]}]},{"level":2,"title":"2. GUI","slug":"_2-gui","link":"#_2-gui","children":[{"level":3,"title":"配置 JAVA_HOME","slug":"配置-java-home","link":"#配置-java-home","children":[]},{"level":3,"title":"配置 Path","slug":"配置-path","link":"#配置-path","children":[]},{"level":3,"title":"配置 CLASSPATH","slug":"配置-classpath","link":"#配置-classpath","children":[]}]},{"level":2,"title":"3. 命令行","slug":"_3-命令行","link":"#_3-命令行","children":[{"level":3,"title":"setx 命令介绍","slug":"setx-命令介绍","link":"#setx-命令介绍","children":[]},{"level":3,"title":"设置 JAVA_HOME","slug":"设置-java-home","link":"#设置-java-home","children":[]},{"level":3,"title":"更新 Path","slug":"更新-path","link":"#更新-path","children":[]},{"level":3,"title":"设置 CLASSPATH","slug":"设置-classpath","link":"#设置-classpath","children":[]}]},{"level":2,"title":"4. 问题排查","slug":"_4-问题排查","link":"#_4-问题排查","children":[]}],"git":{"createdTime":1737085347000,"updatedTime":1737085347000,"contributors":[{"name":"柒月廿三","email":"lxang723@163.com","commits":1}]},"filePathRelative":"blogs/tools/jdk/jdk-multi-version.md"}');export{m as comp,g as data};
