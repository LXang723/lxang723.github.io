import{_ as t,c as a,b as n,f as s,d as o,a as r,o as i,r as d}from"./app-DBBxEtJR.js";const p="/assets/nvm-help-BbGzf4wA.png",c="/assets/nvm-list-available-BduO0fLo.png",h="/assets/nvm-use-CJ2OPncI.png",g={},m={href:"https://github.com/coreybutler/nvm-windows",target:"_blank",rel:"noopener noreferrer"},u={href:"https://github.com/coreybutler/nvm-windows/releases",target:"_blank",rel:"noopener noreferrer"},v={href:"https://nodejs.org/en/download/releases",target:"_blank",rel:"noopener noreferrer"},w={href:"https://nodejs.org/en/about/previous-releases#looking-for-the-latest-release-of-a-version-branch",target:"_blank",rel:"noopener noreferrer"},b={href:"https://nvm.p6p.net/",target:"_blank",rel:"noopener noreferrer"},f={href:"https://github.com/coreybutler/nvm-windows/wiki#manual-installation",target:"_blank",rel:"noopener noreferrer"};function k(N,e){const l=d("ExternalLinkIcon");return i(),a("div",null,[e[11]||(e[11]=n("h2",{id:"什么是-nvm",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#什么是-nvm"},[n("span",null,"什么是 NVM")])],-1)),e[12]||(e[12]=n("p",null,"Node Version Manager (NVM)：即 Node 版本管理器，是一个 Node 版本管理工具，使用 NVM 可以更灵活地管理不同版本的 Node.js。",-1)),e[13]||(e[13]=n("p",null,"NVM 允许安装不同版本的 Node，并根据正在处理的项目（不同项目中需要不同版本的 Node.js），通过命令行在这些版本之间切换。",-1)),e[14]||(e[14]=n("h2",{id:"下载-nvm-for-windows",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#下载-nvm-for-windows"},[n("span",null,"下载 NVM for Windows")])],-1)),e[15]||(e[15]=n("p",null,[s("NVM for Windows（nvm-windows）是Windows 平台上用于管理 Node.js 版本的工具。"),n("br"),s(" NVM for Windows 是一个命令行工具。"),n("br"),s(" NVM for Windows（nvm-windows）是由 Go 编写的。")],-1)),n("p",null,[e[1]||(e[1]=s("GitHub：")),n("a",m,[e[0]||(e[0]=s("nvm-windows")),o(l)])]),n("p",null,[e[3]||(e[3]=s("下载：")),n("a",u,[e[2]||(e[2]=s("Releases · nvm-windows")),o(l)])]),e[16]||(e[16]=r(`<h2 id="卸载之前的" tabindex="-1"><a class="header-anchor" href="#卸载之前的"><span>卸载之前的</span></a></h2><p>官方建议：为了使安装更简单，在安装 NVM for Windows 之前卸载设备上现有的 Node.js，删除任何残留文件。</p><p>⭐ ⭐ <strong>Uninstall any pre-existing Node installations!!</strong> ⭐ ⭐</p><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">README</p><p>The simplest (recommended) way to get NVM for Windows running properly is to uninstall any prior Node installation before installing NVM for Windows.</p><p>For simpliciy, we recommend uninstalling any existing versions of Node.js before using NVM for Windows. <strong>Delete any existing Node.js installation directories</strong> (e.g., %ProgramFiles%\\nodejs) that might remain. NVM&#39;s generated symlink will not overwrite an existing (even empty) installation directory.</p></div><p>没有卸载（或完全卸载）可能遇到以下问题：</p><ul><li><p><strong>权限问题</strong><br> 出于安全原因，Windows 不允许一个厂商的应用程序卸载另一个厂商的应用程序。<br> 官方的 NVM4W 安装程序会尝试接管现有的 Node.js 安装（具体过程会受到运行安装程序的用户权限的影响），但无法实际卸载原有的 Node.js 版本。<br> 为了解决这个问题，NVM for Windows 安装程序会尝试将原有 Node.js 安装文件复制到 NVM 根目录中，包括全局的 npm 模块和配置。一旦此过程完成，可以卸载原来的 Node.js 安装，而不会丢失数据。</p></li><li><p><strong>路径安装问题</strong><br> 如果尝试将 NVM_SYMLINK 配置为使用一个现有目录（例如 C:\\Program Files\\nodejs），会失败，因为符号链接无法覆盖物理目录。 如果选择一个不同的符号链接路径（例如 C:\\nvm\\node），则不会出现此问题。</p></li><li><p><strong>路径冲突</strong><br> 如果没有卸载原始版本，运行 <code>nvm use</code> 可能看起来毫无效果。而运行 <code>node -v</code> 时，总是显示原始安装版本的 Node.js。这是由于路径（PATH）冲突导致的，当同一个应用程序被多次安装时，路径优先级可能出现问题。<br> 在 NVM4W 1.1.11+ 版本中，可以运行 <code>nvm debug</code> 来确定是否存在路径冲突。</p></li></ul><h3 id="_1-卸载-node-js" tabindex="-1"><a class="header-anchor" href="#_1-卸载-node-js"><span>1. 卸载 Node.js</span></a></h3><p>卸载之前可以使用 <code>where node</code> 命令查找 Node.js 可执行文件的位置（此命令会输出系统 PATH 环境变量中找到的所有 node 可执行文件的路径）。</p><p>以 Window 11 为例：<br> 进入 <strong>设置 -&gt; 应用 -&gt; 安装的应用</strong> ，找到 Node.js，点击右侧的更多选项（···），选择卸载。<br> 或<br> 打开 <strong>控制面板 &gt; 程序和功能</strong>，找到 Node.js，右键选择 卸载。</p><h3 id="_2-删除残留文件" tabindex="-1"><a class="header-anchor" href="#_2-删除残留文件"><span>2. 删除残留文件</span></a></h3><p>删除以下目录中的文件（如果存在）：</p><ul><li><strong>C:\\User\\ &lt;username&gt;</strong> 文件夹下的： <ul><li><code>.npmrc</code>、<code>.yarnrc</code> 或 <code>.node_repl_history</code> 文件。</li><li>C:\\Users\\&lt;username&gt;\\AppData\\Roaming\\npm</li><li>C:\\Users\\&lt;username&gt;\\AppData\\Roaming\\npm-cache</li><li>C:\\Users\\&lt;username&gt;\\AppData\\Local\\npm-cache</li></ul></li><li><strong>Program Files</strong> 文件夹或 <strong>Program Files (x86)</strong> 文件夹下的 <strong>Nodejs</strong> 文件夹。 <ul><li>例如 <code>C:\\Program Files (x86)\\Nodejs</code> 和 <code>C:\\Program Files\\Nodejs</code> 。</li></ul></li></ul><p>也可以使用 Everything 全局搜索 npm 或 node 。</p><h3 id="_3-移除环境变量" tabindex="-1"><a class="header-anchor" href="#_3-移除环境变量"><span>3. 移除环境变量</span></a></h3><p>在搜索栏中搜索 <strong>编辑系统环境变量</strong>，删除 node 相关的环境变量。</p><h3 id="_4-检查卸载" tabindex="-1"><a class="header-anchor" href="#_4-检查卸载"><span>4. 检查卸载</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">node</span> <span class="token parameter variable">-v</span></span>
<span class="line"><span class="token function">npm</span> <span class="token parameter variable">-v</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装和升级" tabindex="-1"><a class="header-anchor" href="#安装和升级"><span>安装和升级</span></a></h2><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><p>卸载之前的 node 后，选择 <strong>以管理员身份运行</strong> 的方式，运行 nvm-setup.exe 。</p><p><strong>完成安装向导</strong>：</p><ul><li><p>1.勾选接受协议（I accept the agreement） 。</p></li><li><p>2.选择 nvm 安装路径。</p></li></ul><p>安装程序使用的默认目录是<code>C:\\Users\\&lt;username&gt;\\AppData\\Roaming\\nvm</code>，你也可以选择其他的目录（但尽量避免使用中文目录）。</p><ul><li>3.选择 nodejs（Node.js Symlink）路径。</li></ul><p>这个目录不应该存在（无需自己创建），它将由 NVM 自动创建和维护。 NVM 生成的符号链接无法覆盖现有的（即使是空的）安装目录。</p><ul><li>4.点击 Install 按钮开始安装。</li></ul><p>安装完成后即可使用。</p><h3 id="确认安装成功" tabindex="-1"><a class="header-anchor" href="#确认安装成功"><span>确认安装成功</span></a></h3><p>在 CMD 或 PowerShell 中运行 <code>nvm</code> 会显示帮助菜单。</p><p><img src="`+p+`" alt="nvm-help"></p><p>但这并不是真正意义上的安装成功，能切换成功才算。</p><p>未完全卸载会导致切换无效（使用指定版本：nvm use 失败），切换操作参考 <a href="#%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8">简单使用</a> 部分。</p><p>如果真的遇到切换失败的问题，可查看 <strong># 卸载之前的</strong> 中的<strong>路径冲突</strong>部分。</p><h3 id="升级" tabindex="-1"><a class="header-anchor" href="#升级"><span>升级</span></a></h3><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">Note</p><p>💡 As of v1.1.8, there is an upgrade utility that will automate the upgrade process.<br><strong>To upgrade nvm-windows</strong>, run the new installer. It will safely overwrite the files it needs to update without touching your node.js installations. <strong>Make sure you use the same installation and symlink folder</strong>. If you originally installed to the default locations, you just need to click &quot;next&quot; on each window until it finishes.</p></div><p>v1.1.8 + ，运行新的安装程序进行覆盖即可，注意使用和之前相同的两个目录。</p><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h2><p>NVM for Windows（nvm-windows）需要在具有管理员权限的命令提示符或 PowerShell 中运行。</p><ul><li><strong>nvm list 或 nvm ls</strong>：列出所有已安装的 Node.js 版本。</li><li><strong>nvm list available</strong>：显示所有可安装的版本。</li><li><strong>nvm install &lt;version&gt;</strong>：安装指定版本的 Node.js。<br> 可以安装任何有效的 Node.js 版本，甚至包括 LTS（长期支持）版本或最新版本。</li><li><strong>nvm uninstall &lt;version&gt;</strong>：卸载指定版本的 Node.js。</li><li><strong>nvm use &lt;version&gt;</strong>：切换到指定版本的 Node.js。</li><li><strong>nvm current</strong>：显示当前正在使用的 Node.js 版本。</li></ul><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><h3 id="设置镜像" tabindex="-1"><a class="header-anchor" href="#设置镜像"><span>设置镜像</span></a></h3><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">nvm node_mirror https:<span class="token operator">/</span><span class="token operator">/</span>npmmirror<span class="token punctuation">.</span>com/mirrors/node/</span>
<span class="line">nvm npm_mirror https:<span class="token operator">/</span><span class="token operator">/</span>npmmirror<span class="token punctuation">.</span>com/mirrors/npm/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>这些配置会保存在安装目录下的 settings.txt 文件中。</p><ul><li>root：这是提取文件的安装目录（NVM_HOME）。</li><li>path：这是 NVM_SYMLINK 中定义的符号链接目录。</li></ul><h3 id="简单使用" tabindex="-1"><a class="header-anchor" href="#简单使用"><span>简单使用</span></a></h3><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">Note</p><p>NVM for Windows 使用 <code>mklink</code> 命令，更新符号链接（symlink）来切换 node.js 版本。符号链接会被重新创建，以指向应运行的 node.js 版本。此过程需要更高的管理权限。</p></div><p><strong>mklink 命令</strong>：是 Windows 中用来创建符号链接（symlink）的命令。符号链接是一种特殊类型的文件，它指向另一个文件或目录，就像是一个快捷方式。mklink 可以帮助你在文件系统中创建指向其他位置的快捷方式。</p><p><strong>为了创建/修改符号链接，必须以管理员身份运行。</strong></p><p>当然，“必须以管理员身份运行” 是官方建议的，我尝试使用普通用户切换时（<code>nvm use version</code>）也是能成功的，但是需要弹窗确认（必须选择是）。</p><p>证书是有过期时间的，听劝。</p><div class="custom-container warning"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8v4"></path><path d="M12 16h.01"></path></g></svg><p class="custom-container-title">弹窗内容</p><p><strong>用户账户控制</strong><br><strong>你要允许此应用对你的设备进行更改吗？</strong><br><strong>Windows Command Processor</strong><br> 显示更多详细信息 ⬇️</p><p>已验证的发布者：MicroSoft Windows<br> 程序位置：<code>&quot;C:\\Windows\\SysWOW64\\cmd.exe&quot;/C mkink /D F:\\nodejs F:\\nvm\\v18.20.5</code><br> 显示发布者的证书信息<br> 选择何时显示更改通知</p></div><h4 id="_1-查看可用版本" tabindex="-1"><a class="header-anchor" href="#_1-查看可用版本"><span>1. 查看可用版本</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">nvm list available</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+c+'" alt="nvm list available"></p>',54)),n("p",null,[e[5]||(e[5]=s("This is a partial list. For a complete list, visit ")),n("a",v,[e[4]||(e[4]=s("https://nodejs.org/en/download/releases")),o(l)]),e[6]||(e[6]=s("."))]),n("p",null,[n("a",w,[e[7]||(e[7]=s("Looking for the latest release of a version branch?")),o(l)])]),e[17]||(e[17]=r(`<h4 id="_2-下载指定版本" tabindex="-1"><a class="header-anchor" href="#_2-下载指定版本"><span>2. 下载指定版本</span></a></h4><p>选择一个 LTS（长期支持）版本，进行下载。</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">nvm install 18<span class="token punctuation">.</span>20<span class="token punctuation">.</span>5</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_3-查看已安装版本" tabindex="-1"><a class="header-anchor" href="#_3-查看已安装版本"><span>3. 查看已安装版本</span></a></h4><p>带星号的就是当前使用的版本，也可以使用 <code>nvm current</code> 或 <code>node -v</code> 查看当前使用版本。</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">nvm-list</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_4-切换版本" tabindex="-1"><a class="header-anchor" href="#_4-切换版本"><span>4. 切换版本</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">nvm use 18<span class="token punctuation">.</span>20<span class="token punctuation">.</span>5</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+h+'" alt="nvm-use"></p><h2 id="卸载" tabindex="-1"><a class="header-anchor" href="#卸载"><span>卸载</span></a></h2><p>找到安装目录下的 <code>unins000.exe</code>，双击，确认。</p><p>如果没有这个文件，手动卸载：</p><ul><li>删除安装目录 (NVM_HOME)。</li><li>删除符号链接目录 (NVM_SYMLINK)，至少安装了一个 Node 版本时才有。</li><li>删除环境变量（<code>NVM_HOME</code> 和 <code>NVM_SYMLINK</code>）。</li><li>如果添加了注册表值，则应将其删除。</li></ul><h2 id="参考链接" tabindex="-1"><a class="header-anchor" href="#参考链接"><span>参考链接</span></a></h2>',14)),n("p",null,[n("a",b,[e[8]||(e[8]=s("Node 版本管理器")),o(l)]),e[10]||(e[10]=n("br",null,null,-1)),n("a",f,[e[9]||(e[9]=s("Manual Installation")),o(l)])])])}const j=t(g,[["render",k],["__file","nvm.html.vue"]]),M=JSON.parse('{"path":"/blogs/tools/nodejs/nvm.html","title":"NVM 的安装与使用","lang":"en-US","frontmatter":{"title":"NVM 的安装与使用","date":"2016-12-15T00:00:00.000Z","tags":["Node.js"],"categories":["Tools"]},"headers":[{"level":2,"title":"什么是 NVM","slug":"什么是-nvm","link":"#什么是-nvm","children":[]},{"level":2,"title":"下载 NVM for Windows","slug":"下载-nvm-for-windows","link":"#下载-nvm-for-windows","children":[]},{"level":2,"title":"卸载之前的","slug":"卸载之前的","link":"#卸载之前的","children":[{"level":3,"title":"1. 卸载 Node.js","slug":"_1-卸载-node-js","link":"#_1-卸载-node-js","children":[]},{"level":3,"title":"2. 删除残留文件","slug":"_2-删除残留文件","link":"#_2-删除残留文件","children":[]},{"level":3,"title":"3. 移除环境变量","slug":"_3-移除环境变量","link":"#_3-移除环境变量","children":[]},{"level":3,"title":"4. 检查卸载","slug":"_4-检查卸载","link":"#_4-检查卸载","children":[]}]},{"level":2,"title":"安装和升级","slug":"安装和升级","link":"#安装和升级","children":[{"level":3,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":3,"title":"确认安装成功","slug":"确认安装成功","link":"#确认安装成功","children":[]},{"level":3,"title":"升级","slug":"升级","link":"#升级","children":[]}]},{"level":2,"title":"常用命令","slug":"常用命令","link":"#常用命令","children":[]},{"level":2,"title":"使用","slug":"使用","link":"#使用","children":[{"level":3,"title":"设置镜像","slug":"设置镜像","link":"#设置镜像","children":[]},{"level":3,"title":"简单使用","slug":"简单使用","link":"#简单使用","children":[]}]},{"level":2,"title":"卸载","slug":"卸载","link":"#卸载","children":[]},{"level":2,"title":"参考链接","slug":"参考链接","link":"#参考链接","children":[]}],"git":{"createdTime":1737085347000,"updatedTime":1737085347000,"contributors":[{"name":"柒月廿三","email":"lxang723@163.com","commits":1}]},"filePathRelative":"blogs/tools/nodejs/nvm.md"}');export{j as comp,M as data};
